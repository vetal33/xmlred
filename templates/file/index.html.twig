{% extends 'base.html.twig' %}

{% block title %}Головна!{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('map') }}
    <link rel="stylesheet" href="{{ asset('jsonTree/jsonTree.css') }}">
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('map') }}
    <script src="{{ asset('jsonTree/jsonTree.js') }}"></script>
{% endblock %}

{% block content %}
    <a id="button" class="btn btn-block btn-outline-warning"><i class="fas fa-chevron-up mt-2"></i></a>
    <div class="row mt-3">
        <div class="col-lg-12 col-xl-4" id="text-content">
            <div class="col-12 mt-2 ">
                <div class="card" id="buttons-card" data-name="">
                    <div class="card-body pt-0 pb-0 pr-2 pl-0 mt-2 d-flex justify-content-between flex-wrap">
                        <div class="mr-auto">
                            {% include 'file/_form_xml.html.twig' %}
                            <a class="btn btn-app btn-control disabled" id="btn-validate-xml">
                                <i class="far fa-check-square"></i> Перевірити
                            </a>
                        </div>

                        <div class="ml-auto">
                            {% include 'file/_form_json.html.twig' %}
                            <a href="{{ path('downloadShp') }}" class="btn btn-app btn-control disabled"
                               id="btn-download-shp" data-name-file="">
                                <i class="fas fa-download"></i> Скачати *.shp
                            </a>
                        </div>
                    </div>
                    <div class="overlay v-hidden">
                        <h3><i class="fas fa-spinner fa-spin"></i></h3>
                    </div>
                </div>
                <div class="col-12 d-flex justify-content-between flex-md-nowrap flex-wrap p-0">
                    <div class="col-sm-12 col-md-6 col-xl-12 pl-0 pr-0 pr-md-2 pr-xl-0">
                        <div class="card" id="shp-card" data-name="">
                            <div class="card-header border-0">
                                <h3 class="card-title">Панель керування</h3>
                                <div class="card-tools">
                                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                <table class="table table-striped table-valign-middle">
                                    <thead>
                                    <tr>
                                        <th>Шар</th>
                                        <th class="text-center">Результат</th>
                                        <th class="text-center">Управління</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>Межа населеного пункту</td>
                                        <td id="marker-boundary" class="text-center">-</td>
                                        <td class="text-center">
                                            <div class="custom-control custom-checkbox">
                                                <input class="custom-control-input check-map" id="airfields"
                                                       type="checkbox"
                                                       checked="" disabled>
                                                <label for="customCheckbox2" class="custom-control-label"></label>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Економіко-планувальні зони</td>
                                        <td id="marker-zony" class="text-center">-</td>
                                        <td class="text-center">
                                            <div class="custom-control custom-checkbox">
                                                <input class="custom-control-input check-map" id="zony" type="checkbox"
                                                       checked="" disabled>
                                                <label for="zony" class="custom-control-label"></label>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Оціночні райони</td>
                                        <td id="marker-regions" class="text-center">-</td>
                                        <td class="text-center">
                                            <div class="custom-control custom-checkbox">
                                                <input class="custom-control-input check-map" id="regions"
                                                       type="checkbox"
                                                       checked="" disabled>
                                                <label for="regions" class="custom-control-label"></label>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Локальні фактори</td>
                                        <td id="marker-local" class="text-center">-</td>
                                        <td class="text-center">
                                            <div class="custom-control custom-checkbox">
                                                <input class="custom-control-input check-map" id="local" type="checkbox"
                                                       checked="" disabled>
                                                <label for="local" class="custom-control-label"></label>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Грунти</td>
                                        <td id="marker-lands" class="text-center">-</td>
                                        <td class="text-center">
                                            <div class="custom-control custom-checkbox check-map">
                                                <input class="custom-control-input check-map" id="lands" type="checkbox"
                                                       checked="" disabled>
                                                <label for="lands" class="custom-control-label"></label>
                                            </div>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="overlay v-hidden">
                                <h3><i class="fas fa-spinner fa-spin"></i></h3>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12 col-md-6 col-xl-12 d-xl-none pr-0 pl-0 pl-md-2">
                        <div class="card " id="info-card">
                            <div class="card-header border-0">
                                <h3 class="card-title">Відомості про населений пункт</h3>
                                <div class="card-tools">
                                    <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                        <i class="fas fa-minus"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                <table class="table table-striped table-valign-middle">
                                    <thead>
                                    <tr>
                                        <th>Характеристика</th>
                                        <th class="text-right">Показник</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td id="card-general-address" colspan="2" class="text-left">Розташування</td>
                                    </tr>
                                    <tr>
                                        <td>Площа</td>
                                        <td id="card-general-area" class="text-right"></td>
                                    </tr>
                                    <tr>
                                        <td>Населення</td>
                                        <td id="card-general-population" class="text-right"></td>
                                    </tr>
                                    <tr>
                                        <td>Базова вартість</td>
                                        <td id="card-general-base-price" class="text-right"></td>
                                    </tr>
                                    <tr>
                                        <td>Рік виконання оцінки</td>
                                        <td id="card-general-year" class="text-right"></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="overlay v-hidden">
                                <i class="fas fa-2x fa-sync-alt fa-spin"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card card-outline card-success d-none" id="feature-card">
                    <div class="card-header border-0"><h3 class="card-title text-success">Імпортована ділянка</h3>
                        <div class="card-tools">
                            <input type="hidden" id="geom-from-json" value="" data-bounds="">
                            <span data-toggle="tooltip" class="badge badge-danger"></span>
                            <a href="#" id="zoom-to-parcel" class="btn btn-tool btn-sm" data-toggle="tooltip" title="Зумувати на ділянку">
                                <i class="fas fa-search"></i>
                            </a>
                            <a href="{{ path('calculateNormative') }}" id="feature-from-json"
                               class="btn btn-tool btn-sm disabled" data-toggle="tooltip" title="Розрахувати вартість">
                                <i class="fas fa-calculator"></i>
                            </a>
                            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                <i class="fas fa-minus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-body p-0">
                        <table class="table table-sm">
                            <tbody id="feature-table">
                            <tr>
                                <td>Площа ділянки</td>
                                <td id="feature-card-area"></td>
                            </tr>
                            <tr>
                                <td>Кадастровий номер</td>
                                <td id="feature-card-cud-num"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="overlay v-hidden" hidden="">
                        <h3><i class="fas fa-spinner fa-spin"></i></h3>
                    </div>
                </div>
                <div class="card" id="xml-card">
                    <div class="card-header">
                        <h3 class="card-title">
                            <i class="far fa-file-code"></i>
                            <span id="original_name_file">XML</span>
                        </h3>
                        <div class="card-tools">
                            <button type="button" class="btn btn-tool" data-card-widget="collapse"><i
                                        class="fas fa-minus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div id="wrapper"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-12 col-xl-8">
            <div id="map"></div>
        </div>
    </div>
{% endblock %}
